{
  "directed": true,
  "multigraph": true,
  "graph": {
    "resolution_status": "resolved",
    "instance_name": "django__django-11276",
    "difficulty": "15 min - 1 hour",
    "golden_patch_difficulty": "medium",
    "golden_files_change": 1,
    "patch_difficulty": "medium",
    "files_change": 1
  },
  "nodes": [
    {
      "label": "str_replace_editor\nview",
      "execution_time": [
        0.2102962681092322
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed"
      },
      "phase": "localization",
      "step_indices": [
        0
      ],
      "id": "0:str_replace_editor\nview"
    },
    {
      "label": "str_replace_editor\nview",
      "execution_time": [
        0.20003477088175714
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/django/utils"
      },
      "phase": "localization",
      "step_indices": [
        1
      ],
      "id": "1:str_replace_editor\nview"
    },
    {
      "label": "str_replace_editor\nview",
      "execution_time": [
        0.18773013493046165
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/django/utils/html.py"
      },
      "phase": "localization",
      "step_indices": [
        2
      ],
      "id": "2:str_replace_editor\nview"
    },
    {
      "label": "str_replace_editor\nstr_replace",
      "execution_time": [
        0.19054180406965315
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/django/utils/html.py",
        "old_str": "\"\"\"HTML utilities suitable for global use.\"\"\"\n\nimport json\nimport re\nfrom html.parser import HTMLParser\nfrom urllib.parse import (\n    parse_qsl, quote, unquote, urlencode, urlsplit, urlunsplit,\n)\n\nfrom django.utils.functional import Promise, keep_lazy, keep_lazy_text\nfrom django.utils.http import RFC3986_GENDELIMS, RFC3986_SUBDELIMS\nfrom django.utils.safestring import SafeData, SafeString, mark_safe\nfrom django.utils.text import normalize_newlines",
        "new_str": "\"\"\"HTML utilities suitable for global use.\"\"\"\n\nimport html\nimport json\nimport re\nfrom html.parser import HTMLParser\nfrom urllib.parse import (\n    parse_qsl, quote, unquote, urlencode, urlsplit, urlunsplit,\n)\n\nfrom django.utils.functional import Promise, keep_lazy, keep_lazy_text\nfrom django.utils.http import RFC3986_GENDELIMS, RFC3986_SUBDELIMS\nfrom django.utils.safestring import SafeData, SafeString, mark_safe\nfrom django.utils.text import normalize_newlines",
        "edit_status": "success"
      },
      "phase": "patch",
      "step_indices": [
        3
      ],
      "id": "3:str_replace_editor\nstr_replace"
    },
    {
      "label": "str_replace_editor\nstr_replace",
      "execution_time": [
        0.2196047909092158
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/django/utils/html.py",
        "old_str": "@keep_lazy(str, SafeString)\ndef escape(text):\n    \"\"\"\n    Return the given text with ampersands, quotes and angle brackets encoded\n    for use in HTML.\n\n    Always escape input, even if it's already escaped and marked as such.\n    This may result in double-escaping. If this is a concern, use\n    conditional_escape() instead.\n    \"\"\"\n    return mark_safe(str(text).translate(_html_escapes))",
        "new_str": "@keep_lazy(str, SafeString)\ndef escape(text):\n    \"\"\"\n    Return the given text with ampersands, quotes and angle brackets encoded\n    for use in HTML.\n\n    Always escape input, even if it's already escaped and marked as such.\n    This may result in double-escaping. If this is a concern, use\n    conditional_escape() instead.\n    \"\"\"\n    return mark_safe(html.escape(str(text)))",
        "edit_status": "success"
      },
      "phase": "patch",
      "step_indices": [
        4
      ],
      "id": "4:str_replace_editor\nstr_replace"
    },
    {
      "label": "str_replace_editor\ncreate",
      "execution_time": [
        0.19295222614891827
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/test_escape.py",
        "file_text": "from django.utils.html import escape\n\n# Test cases\ntest_cases = [\n    \"<script>alert('XSS')</script>\",\n    \"This is a test & it's working\",\n    \"\",\n    \"No special characters\",\n    \"'Single quotes' and \\\"double quotes\\\"\"\n]\n\nfor text in test_cases:\n    print(f\"Original: {text}\")\n    print(f\"Escaped: {escape(text)}\")\n    print(\"---\")"
      },
      "phase": "verification",
      "step_indices": [
        5
      ],
      "id": "5:str_replace_editor\ncreate"
    },
    {
      "label": "cd",
      "execution_time": [
        0.12825681397225708,
        0.5211067090276629
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": [
        "/testbed"
      ],
      "phase": "general",
      "step_indices": [
        6,
        7
      ],
      "id": "6:cd"
    },
    {
      "label": "python",
      "execution_time": [
        0.12825681397225708
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": [
        "test_escape.py"
      ],
      "phase": "verification",
      "step_indices": [
        6
      ],
      "id": "7:python"
    },
    {
      "label": "python",
      "execution_time": [
        0.5211067090276629
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": [
        "escape(\"copyright\")"
      ],
      "phase": "verification",
      "step_indices": [
        7
      ],
      "id": "8:python"
    },
    {
      "label": "empty action",
      "execution_time": [
        0.0
      ],
      "state": {},
      "args": {},
      "phase": "general",
      "step_indices": [
        8
      ],
      "id": "9:empty action"
    },
    {
      "label": "submit",
      "execution_time": [
        0.2582730420399457,
        0.24197788699530065
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {},
      "phase": "submit",
      "step_indices": [
        9,
        12
      ],
      "id": "10:submit"
    },
    {
      "label": "str_replace_editor\nundo_edit",
      "execution_time": [
        0.18445491115562618
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": {
        "path": "/testbed/test_escape.py"
      },
      "phase": "general",
      "step_indices": [
        10
      ],
      "id": "11:str_replace_editor\nundo_edit"
    },
    {
      "label": "rm",
      "execution_time": [
        0.1197785830590874
      ],
      "state": {
        "working_dir": "/testbed"
      },
      "args": [
        "/testbed/test_escape.py"
      ],
      "phase": "general",
      "step_indices": [
        11
      ],
      "id": "12:rm"
    }
  ],
  "edges": [
    {
      "label": "1",
      "type": "exec",
      "source": "0:str_replace_editor\nview",
      "target": "1:str_replace_editor\nview",
      "key": 0
    },
    {
      "type": "hier",
      "source": "0:str_replace_editor\nview",
      "target": "1:str_replace_editor\nview",
      "key": 1
    },
    {
      "label": "2",
      "type": "exec",
      "source": "1:str_replace_editor\nview",
      "target": "2:str_replace_editor\nview",
      "key": 0
    },
    {
      "type": "hier",
      "source": "1:str_replace_editor\nview",
      "target": "2:str_replace_editor\nview",
      "key": 1
    },
    {
      "label": "3",
      "type": "exec",
      "source": "2:str_replace_editor\nview",
      "target": "3:str_replace_editor\nstr_replace",
      "key": 0
    },
    {
      "label": "4",
      "type": "exec",
      "source": "3:str_replace_editor\nstr_replace",
      "target": "4:str_replace_editor\nstr_replace",
      "key": 0
    },
    {
      "label": "5",
      "type": "exec",
      "source": "4:str_replace_editor\nstr_replace",
      "target": "5:str_replace_editor\ncreate",
      "key": 0
    },
    {
      "label": "6",
      "type": "exec",
      "source": "5:str_replace_editor\ncreate",
      "target": "6:cd",
      "key": 0
    },
    {
      "label": "6",
      "type": "exec",
      "source": "6:cd",
      "target": "7:python",
      "key": 0
    },
    {
      "label": "7",
      "type": "exec",
      "source": "6:cd",
      "target": "8:python",
      "key": 0
    },
    {
      "label": "7",
      "type": "exec",
      "source": "7:python",
      "target": "6:cd",
      "key": 0
    },
    {
      "label": "8",
      "type": "exec",
      "source": "8:python",
      "target": "9:empty action",
      "key": 0
    },
    {
      "label": "9",
      "type": "exec",
      "source": "9:empty action",
      "target": "10:submit",
      "key": 0
    },
    {
      "label": "10",
      "type": "exec",
      "source": "10:submit",
      "target": "11:str_replace_editor\nundo_edit",
      "key": 0
    },
    {
      "label": "11",
      "type": "exec",
      "source": "11:str_replace_editor\nundo_edit",
      "target": "12:rm",
      "key": 0
    },
    {
      "label": "12",
      "type": "exec",
      "source": "12:rm",
      "target": "10:submit",
      "key": 0
    }
  ]
}