{"model_name_or_path": "anthropic_filemap__GCP--claude-3-7-sonnet__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "django__django-15525", "model_patch": "diff --git a/django/core/serializers/base.py b/django/core/serializers/base.py\nindex da85cb4b92..e8191ce1a7 100644\n--- a/django/core/serializers/base.py\n+++ b/django/core/serializers/base.py\n@@ -336,13 +336,41 @@ def build_instance(Model, data, db):\n         and hasattr(default_manager, \"get_by_natural_key\")\n         and hasattr(Model, \"natural_key\")\n     ):\n-        natural_key = Model(**data).natural_key()\n-        try:\n-            data[Model._meta.pk.attname] = Model._meta.pk.to_python(\n-                default_manager.db_manager(db).get_by_natural_key(*natural_key).pk\n-            )\n-        except Model.DoesNotExist:\n-            pass\n+        # Create a temporary instance without accessing related fields\n+        instance = Model()\n+        for key, value in data.items():\n+            field = Model._meta.get_field(key)\n+            if not field.is_relation:\n+                setattr(instance, key, value)\n+        \n+        # Get the natural key fields from the model's natural_key method\n+        natural_key_fields = []\n+        for field_name in Model.natural_key.__code__.co_varnames[1:]:  # Skip 'self'\n+            if field_name in data:\n+                natural_key_fields.append(data[field_name])\n+        \n+        # If we couldn't extract the natural key fields from the method,\n+        # fall back to calling natural_key() directly\n+        if not natural_key_fields:\n+            try:\n+                natural_key = instance.natural_key()\n+            except (AttributeError, KeyError):\n+                # If accessing a related field fails, we'll just skip this step\n+                pass\n+            else:\n+                try:\n+                    data[Model._meta.pk.attname] = Model._meta.pk.to_python(\n+                        default_manager.db_manager(db).get_by_natural_key(*natural_key).pk\n+                    )\n+                except Model.DoesNotExist:\n+                    pass\n+        else:\n+            try:\n+                data[Model._meta.pk.attname] = Model._meta.pk.to_python(\n+                    default_manager.db_manager(db).get_by_natural_key(*natural_key_fields).pk\n+                )\n+            except Model.DoesNotExist:\n+                pass\n     return Model(**data)\n \n \n"}