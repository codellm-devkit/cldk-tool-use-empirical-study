{"model_name_or_path": "anthropic_filemap__GCP--claude-3-7-sonnet__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "scikit-learn__scikit-learn-14710", "model_patch": "diff --git a/sklearn/ensemble/_hist_gradient_boosting/gradient_boosting.py b/sklearn/ensemble/_hist_gradient_boosting/gradient_boosting.py\nindex ad6a5a8ca..d5026d272 100644\n--- a/sklearn/ensemble/_hist_gradient_boosting/gradient_boosting.py\n+++ b/sklearn/ensemble/_hist_gradient_boosting/gradient_boosting.py\n@@ -426,13 +426,23 @@ class BaseHistGradientBoosting(BaseEstimator, ABC):\n \n         Scores are computed on validation data or on training data.\n         \"\"\"\n+        if hasattr(self, 'classes_'):\n+            y_small_train_for_score = self.classes_[y_small_train.astype(int)]\n+        else:\n+            y_small_train_for_score = y_small_train\n+            \n         self.train_score_.append(\n-            self.scorer_(self, X_binned_small_train, y_small_train)\n+            self.scorer_(self, X_binned_small_train, y_small_train_for_score)\n         )\n \n         if self._use_validation_data:\n+            if hasattr(self, 'classes_'):\n+                y_val_for_score = self.classes_[y_val.astype(int)]\n+            else:\n+                y_val_for_score = y_val\n+                \n             self.validation_score_.append(\n-                self.scorer_(self, X_binned_val, y_val)\n+                self.scorer_(self, X_binned_val, y_val_for_score)\n             )\n             return self._should_stop(self.validation_score_)\n         else:\n"}