{"model_name_or_path": "anthropic_filemap__GCP--claude-3-7-sonnet__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "scikit-learn__scikit-learn-25931", "model_patch": "diff --git a/sklearn/ensemble/_iforest.py b/sklearn/ensemble/_iforest.py\nindex 4d6c1c3f0..99911c42c 100644\n--- a/sklearn/ensemble/_iforest.py\n+++ b/sklearn/ensemble/_iforest.py\n@@ -345,7 +345,17 @@ class IsolationForest(OutlierMixin, BaseBagging):\n             return self\n \n         # else, define offset_ wrt contamination parameter\n-        self.offset_ = np.percentile(self.score_samples(X), 100.0 * self.contamination)\n+        # Compute the scores directly without calling score_samples to avoid\n+        # the feature names warning\n+        check_is_fitted(self)\n+        \n+        # Process X without triggering the feature names warning\n+        X_processed = check_array(X, accept_sparse=\"csr\", dtype=np.float32)\n+        \n+        # Compute the scores\n+        scores = -self._compute_chunked_score_samples(X_processed)\n+        \n+        self.offset_ = np.percentile(scores, 100.0 * self.contamination)\n \n         return self\n \n"}