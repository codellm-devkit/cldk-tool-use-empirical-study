{"model_name_or_path": "anthropic_filemap__GCP--claude-3-7-sonnet__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "matplotlib__matplotlib-24177", "model_patch": "diff --git a/lib/matplotlib/axes/_axes.py b/lib/matplotlib/axes/_axes.py\nindex 2412f815cd..406d0c600b 100644\n--- a/lib/matplotlib/axes/_axes.py\n+++ b/lib/matplotlib/axes/_axes.py\n@@ -6883,12 +6883,22 @@ such objects\n                     edgecolor=None if fill else c,\n                     fill=fill if fill else None,\n                     zorder=None if fill else mlines.Line2D.zorder))\n+            # For step histograms, we need to handle sticky edges differently\n+            # For density plots, we need to ensure the axis can auto-scale properly\n             for patch_list in patches:\n                 for patch in patch_list:\n                     if orientation == 'vertical':\n+                        # Always add sticky edge at y=0\n                         patch.sticky_edges.y.append(0)\n+                        # For density plots, remove any other sticky edges\n+                        if density:\n+                            patch.sticky_edges.y[:] = [0]\n                     elif orientation == 'horizontal':\n+                        # Always add sticky edge at x=0\n                         patch.sticky_edges.x.append(0)\n+                        # For density plots, remove any other sticky edges\n+                        if density:\n+                            patch.sticky_edges.x[:] = [0]\n \n             # we return patches, so put it back in the expected order\n             patches.reverse()\n"}