{"model_name_or_path": "anthropic_filemap__GCP--claude-3-7-sonnet__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "sympy__sympy-18763", "model_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex 8743723ea0..118c2e8eb1 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -698,7 +698,13 @@ def _print_Derivative(self, expr):\n \n     def _print_Subs(self, subs):\n         expr, old, new = subs.args\n-        latex_expr = self._print(expr)\n+        # Use the parenthesize method to determine if parentheses are needed\n+        # Add and unary minus expressions need parentheses\n+        from sympy.printing.precedence import PRECEDENCE\n+        if expr.is_Add or (hasattr(expr, 'could_extract_minus_sign') and expr.could_extract_minus_sign()):\n+            latex_expr = self.parenthesize(expr, PRECEDENCE[\"Atom\"], strict=True)\n+        else:\n+            latex_expr = self._print(expr)\n         latex_old = (self._print(e) for e in old)\n         latex_new = (self._print(e) for e in new)\n         latex_subs = r'\\\\ '.join(\n"}