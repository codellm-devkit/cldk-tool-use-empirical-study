diff --git a/lib/matplotlib/mlab.py b/lib/matplotlib/mlab.py
index 3552904c3d..371d74fac2 100644
--- a/lib/matplotlib/mlab.py
+++ b/lib/matplotlib/mlab.py
@@ -427,7 +427,13 @@ def _spectral_helper(x, y=None, NFFT=None, Fs=None, detrend_func=None,
             result /= (np.abs(window)**2).sum()
         else:
             # In this case, preserve power in the segment, not amplitude
-            result /= np.abs(window).sum()**2
+            # Handle the case where window.sum() is zero to avoid division by zero
+            window_sum = window.sum()
+            if window_sum != 0:
+                result /= window_sum**2
+            else:
+                # Fall back to using np.abs(window).sum() if window.sum() is zero
+                result /= np.abs(window).sum()**2
 
     t = np.arange(NFFT/2, len(x) - NFFT/2 + 1, NFFT - noverlap)/Fs
 
