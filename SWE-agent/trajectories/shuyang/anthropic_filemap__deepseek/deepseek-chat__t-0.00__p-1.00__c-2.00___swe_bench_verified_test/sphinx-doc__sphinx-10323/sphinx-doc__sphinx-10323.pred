{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "sphinx-doc__sphinx-10323", "model_patch": "diff --git a/sphinx/directives/code.py b/sphinx/directives/code.py\nindex dc44ed314..19724d509 100644\n--- a/sphinx/directives/code.py\n+++ b/sphinx/directives/code.py\n@@ -356,7 +356,20 @@ class LiteralIncludeReader:\n \n     def dedent_filter(self, lines: List[str], location: Tuple[str, int] = None) -> List[str]:\n         if 'dedent' in self.options:\n-            return dedent_lines(lines, self.options.get('dedent'), location=location)\n+            # Skip dedent for prepend and append lines\n+            prepend = self.options.get('prepend')\n+            append = self.options.get('append')\n+            if prepend or append:\n+                # Separate prepend/append lines from the rest\n+                main_lines = lines[1:-1] if append else lines[1:]\n+                main_lines = dedent_lines(main_lines, self.options.get('dedent'), location=location)\n+                if prepend:\n+                    main_lines.insert(0, lines[0])\n+                if append:\n+                    main_lines.append(lines[-1])\n+                return main_lines\n+            else:\n+                return dedent_lines(lines, self.options.get('dedent'), location=location)\n         else:\n             return lines\n \ndiff --git a/tox.ini b/tox.ini\nindex f0afd779b..30ca90275 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -28,7 +28,7 @@ setenv =\n     PYTHONWARNINGS = all\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -m pytest --durations 25 {posargs}\n+    python -X dev -m pytest -rA --durations 25 {posargs}\n \n [testenv:du-latest]\n commands =\n"}