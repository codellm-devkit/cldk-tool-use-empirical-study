{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "django__django-12754", "model_patch": "diff --git a/django/db/migrations/autodetector.py b/django/db/migrations/autodetector.py\nindex 30616c0172..cc81c77821 100644\n--- a/django/db/migrations/autodetector.py\n+++ b/django/db/migrations/autodetector.py\n@@ -884,7 +884,24 @@ class MigrationAutodetector:\n \n     def generate_removed_fields(self):\n         \"\"\"Make RemoveField operations.\"\"\"\n+        # Prioritize RemoveField operations for fields moved to a subclass\n+        moved_fields = []\n+        other_fields = []\n         for app_label, model_name, field_name in sorted(self.old_field_keys - self.new_field_keys):\n+            old_model = self.old_apps.get_model(app_label, model_name)\n+            new_model = self.new_apps.get_model(app_label, model_name)\n+            # Check if the field is moved to a subclass\n+            for new_model_name in self.new_apps.get_models():\n+                if new_model_name._meta.get_field(field_name, None) and issubclass(new_model_name, old_model.__class__):\n+                    moved_fields.append((app_label, model_name, field_name))\n+                    break\n+            else:\n+                other_fields.append((app_label, model_name, field_name))\n+        # Process moved fields first\n+        for app_label, model_name, field_name in moved_fields:\n+            self._generate_removed_field(app_label, model_name, field_name)\n+        # Process other fields\n+        for app_label, model_name, field_name in other_fields:\n             self._generate_removed_field(app_label, model_name, field_name)\n \n     def _generate_removed_field(self, app_label, model_name, field_name):\ndiff --git a/testapp/__init__.py b/testapp/__init__.py\nnew file mode 100644\nindex 0000000000..e69de29bb2\ndiff --git a/testapp/migrations/0001_initial.py b/testapp/migrations/0001_initial.py\nnew file mode 100644\nindex 0000000000..eed22a0896\n--- /dev/null\n+++ b/testapp/migrations/0001_initial.py\n@@ -0,0 +1,34 @@\n+# Generated by Django 3.2 on 2025-05-21 21:42\n+\n+from django.db import migrations, models\n+import django.db.models.deletion\n+\n+\n+class Migration(migrations.Migration):\n+\n+    initial = True\n+\n+    dependencies = [\n+    ]\n+\n+    operations = [\n+        migrations.CreateModel(\n+            name='Readable',\n+            fields=[\n+                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),\n+                ('title', models.CharField(max_length=200)),\n+            ],\n+        ),\n+        migrations.RemoveField(\n+            model_name='readable',\n+            name='title',\n+        ),\n+        migrations.CreateModel(\n+            name='Book',\n+            fields=[\n+                ('readable_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='testapp.readable')),\n+                ('title', models.CharField(max_length=200)),\n+            ],\n+            bases=('testapp.readable',),\n+        ),\n+    ]\ndiff --git a/testapp/migrations/__init__.py b/testapp/migrations/__init__.py\nnew file mode 100644\nindex 0000000000..e69de29bb2\n"}