{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "matplotlib__matplotlib-25311", "model_patch": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\nindex ff6abdb958..1f9d0c7f8e 100644\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -1170,6 +1170,12 @@ class Legend(Artist):\n             return inside, info\n         return self.legendPatch.contains(event)\n \n+    def __getstate__(self):\n+        state = self.__dict__.copy()\n+        # Remove the unpicklable DraggableLegend instance.\n+        state['_draggable'] = None\n+        return state\n+\n     def set_draggable(self, state, use_blit=False, update='loc'):\n         \"\"\"\n         Enable or disable mouse dragging support of the legend.\n"}