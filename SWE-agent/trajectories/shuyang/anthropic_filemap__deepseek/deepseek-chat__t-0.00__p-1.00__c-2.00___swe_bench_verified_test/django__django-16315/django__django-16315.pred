{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "django__django-16315", "model_patch": "diff --git a/django/db/backends/postgresql/operations.py b/django/db/backends/postgresql/operations.py\nindex 62273fc43c..851c72ec3e 100644\n--- a/django/db/backends/postgresql/operations.py\n+++ b/django/db/backends/postgresql/operations.py\n@@ -353,12 +353,28 @@ class DatabaseOperations(BaseDatabaseOperations):\n         if on_conflict == OnConflict.IGNORE:\n             return \"ON CONFLICT DO NOTHING\"\n         if on_conflict == OnConflict.UPDATE:\n+            # Resolve db_column values for unique_fields\n+            unique_columns = []\n+            for field_name in unique_fields:\n+                field = next((f for f in fields if f.name == field_name), None)\n+                if field:\n+                    unique_columns.append(field.db_column or field_name)\n+                else:\n+                    unique_columns.append(field_name)\n+            # Resolve db_column values for update_fields\n+            update_columns = []\n+            for field_name in update_fields:\n+                field = next((f for f in fields if f.name == field_name), None)\n+                if field:\n+                    update_columns.append(field.db_column or field_name)\n+                else:\n+                    update_columns.append(field_name)\n             return \"ON CONFLICT(%s) DO UPDATE SET %s\" % (\n-                \", \".join(map(self.quote_name, unique_fields)),\n+                \", \".join(map(self.quote_name, unique_columns)),\n                 \", \".join(\n                     [\n-                        f\"{field} = EXCLUDED.{field}\"\n-                        for field in map(self.quote_name, update_fields)\n+                        f\"{self.quote_name(col)} = EXCLUDED.{self.quote_name(col)}\"\n+                        for col in update_columns\n                     ]\n                 ),\n             )\n"}