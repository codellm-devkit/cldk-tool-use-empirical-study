{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "django__django-16136", "model_patch": "diff --git a/django/views/generic/base.py b/django/views/generic/base.py\nindex db1842e3e5..93979d1e9c 100644\n--- a/django/views/generic/base.py\n+++ b/django/views/generic/base.py\n@@ -148,7 +148,12 @@ class View:\n             request.path,\n             extra={\"status_code\": 405, \"request\": request},\n         )\n-        return HttpResponseNotAllowed(self._allowed_methods())\n+        response = HttpResponseNotAllowed(self._allowed_methods())\n+        if self.view_is_async:\n+            async def func():\n+                return response\n+            return func()\n+        return response\n \n     def options(self, request, *args, **kwargs):\n         \"\"\"Handle responding to requests for the OPTIONS HTTP verb.\"\"\"\ndiff --git a/reproduce_error.py b/reproduce_error.py\nnew file mode 100644\nindex 0000000000..a684290cdd\n--- /dev/null\n+++ b/reproduce_error.py\n@@ -0,0 +1,31 @@\n+import os\n+os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'testbed.settings')\n+\n+from django.views import View\n+from django.http import HttpResponse\n+from django.conf import settings\n+\n+settings.configure(\n+    DEFAULT_CHARSET='utf-8',\n+    ROOT_URLCONF=__name__,\n+)\n+\n+class Demo(View):\n+    \"\"\"This basic view supports only POST requests\"\"\"\n+    async def post(self, request):\n+        return HttpResponse(\"ok\")\n+\n+# URL pattern would be defined in urls.py, but for this script, we simulate a GET request\n+from django.test import RequestFactory\n+\n+request_factory = RequestFactory()\n+request = request_factory.get('/demo')\n+view = Demo.as_view()\n+\n+# Simulate the view call\n+import asyncio\n+\n+async def test_view():\n+    return await view(request)\n+\n+asyncio.run(test_view())\n\\ No newline at end of file\n"}