{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "psf__requests-1724", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex cc72f65d..8fb2903b 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -311,7 +311,7 @@ class Session(SessionRedirectMixin):\n         \"\"\"\n         # Create the Request.\n         req = Request(\n-            method = method.upper(),\n+            method = method.encode('ascii').decode('ascii').upper() if isinstance(method, type(u'')) else method.upper(),\n             url = url,\n             headers = headers,\n             files = files,\n"}