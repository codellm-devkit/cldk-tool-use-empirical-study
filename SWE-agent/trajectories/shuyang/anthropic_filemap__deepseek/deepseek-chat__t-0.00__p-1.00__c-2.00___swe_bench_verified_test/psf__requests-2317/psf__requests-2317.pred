{"model_name_or_path": "deepseek-chat__t-0.00__p-1.00__c-2.00___swe_bench_verified_test", "instance_id": "psf__requests-2317", "model_patch": "diff --git a/requests/compat.py b/requests/compat.py\nindex be5a1ed6..f75889b4 100644\n--- a/requests/compat.py\n+++ b/requests/compat.py\n@@ -108,6 +108,10 @@ elif is_py3:\n     from io import StringIO\n     from collections import OrderedDict\n \n+    def _builtin_str(s):\n+        if isinstance(s, bytes):\n+            return s.decode('utf-8')\n+        return str(s)\n     builtin_str = str\n     str = str\n     bytes = bytes\ndiff --git a/requests/sessions.py b/requests/sessions.py\nindex d701ff2e..360de970 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -13,7 +13,7 @@ from collections import Mapping\n from datetime import datetime\n \n from .auth import _basic_auth_str\n-from .compat import cookielib, OrderedDict, urljoin, urlparse, builtin_str\n+from .compat import cookielib, OrderedDict, urljoin, urlparse, builtin_str, _builtin_str\n from .cookies import (\n     cookiejar_from_dict, extract_cookies_to_jar, RequestsCookieJar, merge_cookies)\n from .models import Request, PreparedRequest, DEFAULT_REDIRECT_LIMIT\n@@ -425,7 +425,7 @@ class Session(SessionRedirectMixin):\n             If Tuple, ('cert', 'key') pair.\n         \"\"\"\n \n-        method = builtin_str(method)\n+        method = _builtin_str(method)\n \n         # Create the Request.\n         req = Request(\n"}